<div class="container-fluid dash-container-position" data-ng-controller="Dashboard.IndexController">
    <div class="container-min-width row-fluid">
        <div class="row-fluid">
            <h3 class="page-title white-line">Dashboard</h3>
        </div>

        <div class="widget-block">
            <div class="pull-left widget-margin">
                <a href="#!/compute">
                    <div class="widget grey links2 instance-icon">
                        <h4>Instances</h4>
                        <div class="details">
                            <div id="count-instances-running" class="number">
                                {{runningcount}}
                            </div>
                            <div class="desc">
                                running
                            </div>
                        </div>
                        <div class="details details-subinfo">
                            <div id="count-instances-stopped" class="number">
                                {{othercount}}
                            </div>
                            <div class="desc">
                                stopped
                            </div>
                        </div>
                        <div class="more">
                            view compute details <i class="m-icon-white-arrow"></i>
                        </div>
                    </div>
                </a>
                <div class="widget-btn">
                    <a class="more" data-ng-click="gotoCreatePage()"><button type="button" id="button-create-instance" class="btn btn-stat orange align-text-btn"><i class="plus-btn-icon"></i>&nbsp;&nbsp;Create
                        Compute Instance</button></a>
                </div>
            </div>
            <div class="pull-left widget-margin" data-ng-show="slbFeatureEnabled">
                <a href="#!/slb/list">
                    <div class="widget grey links2 balancer-icon">
                        <h4>Load Balancers</h4>
                        <div class="details">
                            <p class="number">{{balancers.length || 0}}</p>
                            <p class="desc"> configured</p>
                        </div>
                        <div class="more">
                            VIEW LOAD BALANCER DETAILS <i class="m-icon-white-arrow"></i>
                </div>
            </div>
                </a>
                <div class="widget-btn">
                    <a class="more" data-ng-href="{{(slbControllerCreated && '#!/slb/edit/') || '#!/slb/'}}"><button type="button" class="btn btn-stat orange align-text-btn"><i class="plus-btn-icon"></i>&nbsp;&nbsp;Create LB Instance</button></a>
        </div>
                    </div>
            <div class="pull-left widget-margin">
                <a data-ng-href="{{(mantaEnabled && '#!/manta/files') || '#!/manta/intro'}}">
                    <div class="widget grey links2 manta-icon">
                        <h4>Manta Storage</h4>
                        <div class="details">
                            <div data-ng-show="mantaEnabled">
                                <span class="number bignumber">{{mantaMemory.value}}</span>
                                <span class="number measure">{{mantaMemory.measure}}</span>
                            </div>
                        </div>
                        <div class="more">
                           manage storage <i class="m-icon-white-arrow"></i>
                        </div>
                    </div>
                </a>
                <div class="widget-btn"></div>
            </div>
            <div class="pull-left widget-margin" data-ng-show="usageDataFeatureEnabled">
                <a data-ng-href="{{utilization.url}}">
                    <div class="widget grey links2 utilization-icon">
                        <h4>Month to date Usage</h4>
                        <div class="details details-subinfo" data-ng-show="utilization">
                            <div class="desc">
                                {{utilization.dram.format(utilization.dram.total)}} DRAM GB hours
                            </div>
                            <div class="desc">
                                {{utilization.bandwidth.format(utilization.bandwidth.total)}} bandwidth
                            </div>
                        </div>
                    </div>
                </a>
                <div class="widget-btn">
                    <a class="more" data-ng-href="{{utilization.url}}"><button type="button" class="btn btn-stat orange align-text-btn"><i class="chart-btn-icon"></i>&nbsp;&nbsp;
                        Explore Usage</button>
                    </a>
                </div>
            </div>

            <div class="pull-left widget-margin" data-ng-show="features.support == 'enabled'">
                <a href="#!/support">
                    <div class="widget grey links2 support-icon">
                        <h4>Support</h4>
                        <a href="#!/support">
                            <div class="details">
                                <div class="desc-title">JPC</div>
                                <div class="desc">{{supportTile[0] || 'Basic'}}</div>
                            </div>
                        </a>
                        <a href="#!/support/cloud">
                            <div class="details details-subinfo">
                                <div class="desc-title">Node.js</div>
                                <div class="desc">{{supportTile[1] || 'none'}}</div>
                            </div>
                        </a>
                        <a href="#!/support" class="more">
                            UPGRADE <i class="m-icon-white-arrow"></i>
                        </a>
                    </div>
                </a>
                <div class="widget-btn"></div>
            </div>

            <div class="pull-left widget-margin" data-ng-show="features.freetier == 'enabled' && validFreeTier">
                    <div class="widget grey links2 host">
                        <h4>Free Dev Tier</h4>
                        <table class="details">
                            <tr>
                                <td class="desc">SmartOS</td>
                                <td class="desc">CentOS</td>
                            </tr>
                            <tr>
                                <td class="desc">Ubuntu</td>
                                <td class="desc">Node.js</td>
                            </tr>
                        </table>
                        <table class="servers-bg">
                            <tr>
                                <td>
                                    <div class="server" data-ng-repeat="datacenter in datacenters">
                                        <p data-ng-show="datacenter.name"
                                           class="pull-left tooltip-hover"
                                           data-toggle="tooltip"
                                           data-placement="top"
                                           data-html="true"
                                           data-original-title="{{datacenter.tooltip}}">
                                            {{datacenter.name}}
                                        </p>
                                        <div class="lightbulb" data-ng-class="{'lightbulb-enable': !datacenter.lightbulb && datacenter.name}"></div>
                                    </div>
                                </td>
                            </tr>
                        </table>
                        <div class="more">valid until {{validUntil | date:'yyyy-MM-dd'}}</div>
                    </div>
                <div class="widget-btn">
                    <a class="more" href="#!/compute/create/simple" data-ng-show="showAddFreeTier"><button type="button" class="btn btn-stat orange align-text-btn"><i class="plus-btn-icon"></i>&nbsp;&nbsp;
                        Create Free Dev Tier
                    </button></a>
                </div>
            </div>

            <div class="pull-left widget-margin" data-ng-show="features.systemStatusTile == 'enabled'">
                <div class="widget grey links2 system-icon">
                    <h4>System Status</h4>
                    <div class="details details-subinfo">
                        <div class="desc" data-ng-hide="loadedSystemStatusTopics">
                            Getting system status...
                        </div>
                        <div class="desc" data-ng-show="loadedSystemStatusTopics && systemStatusTopics.length == 0">
                            <i class="checked-icon"></i>
                            All services operating normally
                        </div>
                        <div class="desc" data-ng-repeat="topic in systemStatusTopics">
                            <a target="_blank" href="https://help.joyent.com/entries/{{topic.id}}">{{topic.created_at | dateTime}} &nbsp;{{topic.title}}</a>
                        </div>
                    </div>
                </div>
                <div class="widget-btn">
                    <a class="more" target="_blank" data-ng-href="https://help.joyent.com/forums/20715782-current-system-status#recent"><button type="button" class="btn btn-stat orange align-text-btn"><i class="view-btn-icon"></i>&nbsp;&nbsp;
                        View Older System Updates</button>
                    </a>
                </div>
            </div>

            <div class="pull-left widget-margin" data-ng-show="features.devCenterNewsTile == 'enabled'">
                <div class="widget warn-dash-icon">
                    <div class="margin-text-block">
                        <h5><b>New in Dev Center</b></h5>
                        <h5>Securely back-up data, file</h5>
                        <h5>and configurations on</h5>
                        <h5>Joyent Cloud. <a href="http://www.joyent.com/developers/back-up" target="_blank"><b>See how</b></a></h5>
                </div>
            </div>
            </div>
        </div>
        <div class="dpl-inline">
            <div class="pull-left first-colums">
                <div class="portlet-body manta-ad">
                    <div class="manta-ad-block">
                        <h4>Introducing Joyent Manta</h4>
                        <h4>Storage Service</h4>
            </div>
                    <div class="manta-ad-block2">
                        <h5>A highly scalable, distributed</h5>
                        <h5>object storage service with</h5>
                        <h5>integrated compute</h5>
                    </div>
                    <div class="manta-ad-block3">
                        <a href="http://vimeo.com/68920633" target="_blank">
                            <h5>Find out how Manta</h5>
                            <h5>gives storage intelligence</h5>
                        </a>
                    </div>
                </div>
            </div>
            <div class="pull-left secont-colums">
                <div class="span" data-ng-show="features.systemStatusTile != 'enabled'">
                    <h5>SYSTEM STATUS</h5>
                    <div class="separation-container separation-container-top">
                        <div class="row-fluid" data-ng-repeat="topic in systemStatusTopics | limitTo:7">
                            <span class="pull-left span12">{{topic.created_at | dateTime}} <a target="_blank" href="https://help.joyent.com/entries/{{topic.id}}">&nbsp;{{topic.title}}</a></span>
                        </div>
                    </div>
                    <div class="margin-btn-dashboard">
                        <a class="btn light-small pull-right effect-orange-button" href="https://help.joyent.com/forums/20715782-current-system-status#recent" target="_blank">
                            View all System Updates
                        </a>
                    </div>
                    <div class="line-spacer dpl-inline"></div>
                </div>
                    <div class="span">
                        <h5>JOYENT BLOG</h5>
                        <div class="separation-container separation-container-top">
                            <div class="row-fluid" data-ng-repeat="entry in rssentries">
                                <span class="pull-left span12">{{entry.publishedDate | dateTime}} <a target="_blank" href="{{entry.link}}">&nbsp;{{entry.title}}</a></span>
                            </div>
                    </div>
                        <div class="margin-btn-dashboard"><a class="btn light-small pull-right effect-orange-button" href="http://www.joyent.com/blog" target="_blank">
                            More News</a>
                </div>
                        <div class="line-spacer dpl-inline"></div>
                <div>
                </div>
            </div>
                    <div class="span">
                        <h5>SUPPORT FAQ</h5>
                        <div class="separation-container separation-container-top">
                            <div class="row-fluid" data-ng-repeat="(name, url) in forums">
                                <span class="pull-left span12"><a target="_blank" href="{{url}}">{{name}}</a></span>
                            </div>
                    </div>
                        <div class="margin-btn-dashboard"><a class="btn light-small pull-right effect-orange-button" href="http://wiki.joyent.com/wiki/display/jpc2/FAQs" target="_blank">
                            Visit DevCenter</a>
                </div>
                <div>
                </div>
            </div>
            </div>
        </div>
    </div>
</div>

