<div class="container-fluid dash-container-position" data-ng-controller="Dashboard.IndexController">
    <div class="container-min-width row-fluid">
        <div class="row-fluid">
            <h3 class="page-title">Dashboard</h3>
        </div>

        <div class="pull-left tile-wrapper">
            <div class="tile instance-bg">
                <a data-ng-href="{{'#!/compute'}}">
                    <div class="tile-body">
                        <div class="title">Instances</div>
                        <div class="left-column">
                            <div id="count-instances-running" class="number">
                                {{runningcount}}
                            </div>
                            <div class="info">
                                running
                            </div>
                        </div>
                        <div class="right-column">
                            <div id="count-instances-stopped" class="number">
                                {{othercount}}
                            </div>
                            <div class="info">
                                stopped
                            </div>
                        </div>
                    </div>
                </a>
                <div class="tile-button" id="button-create-instance" data-ng-click="gotoCreatePage()">+ Create Compute Instance</div>
            </div>
        </div>

        <div class="pull-left tile-wrapper" data-ng-show="dockerEnabled">
            <div class="tile docker-bg">
                <a data-ng-href="{{'#!/docker/containers'}}">
                    <div class="tile-body">
                        <div class="title">Docker Containers</div>
                        <div class="left-column">
                            <a data-ng-href="{{'#!/docker/containers/running'}}" data-ng-disabled="!runningContainers">
                                <div class="number">
                                    {{runningContainers}}
                                </div>
                                <div class="info">
                                    running
                                </div>
                            </a>
                        </div>
                        <div class="right-column">
                            <div class="number">
                                {{otherContainers}}
                            </div>
                            <div class="info">
                                stopped
                            </div>
                        </div>
                    </div>
                </a>
                <a class="tile-button" href="#!/docker/container/create">+ Create Docker Container</a>
            </div>
        </div>

        <div class="pull-left tile-wrapper" data-ng-show="slbFeatureEnabled">
            <div class="tile elb-bg">
                <a data-ng-href="{{(slbControllerCreated && '#!/slb/list') || '#!/slb/'}}">
                    <div class="tile-body">
                        <div class="title">Load Balancers</div>
                        <div class="single-column">
                            <div class="number">
                                {{balancers.length || 0}}
                            </div>
                            <div class="info">
                                configured
                            </div>
                        </div>
                    </div>
                </a>
                <a class="tile-button" data-ng-href="{{(slbControllerCreated && '#!/slb/edit/') || '#!/slb/'}}">+ Create Load Balancer</a>
            </div>
        </div>

        <div class="pull-left tile-wrapper" data-ng-show="mantaEnabled">
            <div class="tile manta-bg">
                <a data-ng-href="{{(account.provisionEnabled && '#!/manta/files') || '#!/manta/files'}}">
                    <div class="tile-body">
                        <div class="title">Manta Storage</div>
                        <div class="single-column">
                            <div class="number dpl-inline">
                                {{mantaMemory.value}}
                            </div>
                            <div class="info dpl-inline">
                                {{mantaMemory.measure || ((account.provisionEnabled && 'GB') || '')}}
                            </div>
                        </div>
                    </div>
                </a>
                <a class="tile-button" data-ng-href="{{(account.provisionEnabled && '#!/manta/builder') || '#!/manta/builder'}}">+ Create Job</a>
            </div>
        </div>

        <div class="pull-left tile-wrapper" data-ng-show="usageDataFeatureEnabled">
            <div class="tile usage-bg">
                <a data-ng-href="{{utilization.url}}">
                    <div class="tile-body">
                        <div class="title">Current Usage</div>
                        <div class="single-column" data-ng-show="utilization">
                            <div class="number medium dpl-inline">
                                ${{currentspend}}
                            </div>
                            <div class="info dpl-inline">
                                Spent
                            </div>
                        </div>
                        <div class="second-row">
                            <div class="left-column small" data-ng-show="utilization">
                                <div class="number medium">
                                    {{dram}}
                                </div>
                                <div class="info">
                                    DRAM
                                </div>
                                <div class="info">
                                    GB&nbsp;hours
                                </div>
                            </div>
                            <div class="right-column small" data-ng-show="utilization">
                                <div class="number medium">
                                    {{bandwidth.value}}
                                </div>
                                <div class="info">
                                    {{bandwidth.measure}}
                                </div>
                                <div class="info">
                                    bandwidth
                                </div>
                            </div>
                        </div>
                    </div>
                    <span class="tile-button">Explore Usage</span>
                </a>
            </div>
        </div>

        <div class="pull-left tile-wrapper" data-ng-show="features.support == 'enabled'">
            <div class="tile support-bg">
                <div class="tile-body">
                    <div class="title">Support</div>
                    <div class="left-column">
                        <a href="#!/support">
                            <div id="count-instances-running" class="number small">
                                JPC
                            </div>
                            <div class="info">
                                {{supportTile[0] || 'Basic'}}
                            </div>
                        </a>
                    </div>
                    <div class="right-column">
                        <a href="#!/support/cloud">
                            <div id="count-instances-stopped" class="number small">
                                Node.js
                            </div>
                            <div class="info">
                                {{supportTile[1] || 'none'}}
                            </div>
                        </a>
                    </div>
                </div>
                <a class="tile-button" href="#!/support">View Support Upgrades</a>
            </div>
        </div>

        <div class="pull-left tile-wrapper" data-ng-show="features.freetier == 'enabled' && validFreeTier">
            <div class="tile free-tier-bg">
                <div class="tile-body">
                    <div class="title">Free Dev Tier</div>
                    <div class="single-column small">
                        <div class="server tooltip-hover"
                             data-ng-class="{slim: datacenters.length > 6}"
                             data-ng-repeat="datacenter in datacenters | orderBy:$index track by $index"
                             data-toggle="tooltip"
                             data-placement="top"
                             data-html="true"
                             data-original-title="{{datacenter.tooltip}}">
                            <p data-ng-show="datacenter.name"
                               class="pull-left">
                                {{datacenter.name}}
                            </p>
                            <div class="lightbulb" data-ng-class="{'lightbulb-enable': !datacenter.lightbulb && datacenter.name}"></div>
                        </div>
                    </div>
                    <div class="small-text grey center-text">Valid until {{validUntil | date:'yyyy-MM-dd'}}</div>
                </div>
                <a class="tile-button grey"  data-ng-show="showAddFreeTier" href="#!/compute/create/simple">+ Create Free Instance</a>
            </div>
        </div>

        <div class="pull-left tile-wrapper" data-ng-show="features.systemStatusTile == 'enabled'">
            <div class="tile status-bg">
                <div class="tile-body">
                    <div class="title">System Status</div>
                    <div class="single-column">
                        <div class="small-text white" data-ng-hide="loadedSystemStatusTopics">
                            Getting system status...
                        </div>
                        <div class="small-text white" data-ng-show="loadedSystemStatusTopics && systemStatusTopics.length == 0">
                            <i class="checked-icon"></i>
                            All systems online.
                        </div>
                        <div class="small-text white" data-ng-repeat="topic in systemStatusTopics">
                            <a target="_blank" href="https://help.joyent.com/entries/{{topic.id}}">{{topic.created_at | dateTime}} &nbsp;{{topic.title}}</a>
                        </div>
                    </div>
                </div>
                <a class="tile-button grey" target="_blank" href="https://help.joyent.com/forums/21769270-Incidents-Notifications">View Older System Updates</a>
            </div>
        </div>

        <div class="pull-left tile-wrapper" data-ng-show="features.devCenterNewsTile == 'enabled'">
            <div class="tile devcenter-bg">
                <div class="tile-body devcenter">
                    <h5>Securely back-up data, file and configurations on Joyent Cloud.</h5>
                    <div class="small-text"><a class="orange" href="http://www.joyent.com/developers/back-up" target="_blank">See how in the DevCenter</a></div>
                </div>
            </div>
        </div>

        <div class="dpl-inline">
            <div class="pull-left first-column" data-ng-show="features.privateSdc != 'enabled'">
                <div class="portlet-body promo-ad">
                    <h1>Introducing Triton</h1>
                    <p>Designed from the ground up to radically simplify container deployments in production, at scale, with software-defined networking, and bare-metal performance. <a href="https://www.joyent.com/" target="_blank">Learn more</a></p>
                </div>
            </div>
            <div class="pull-left second-column">
                <div class="span" data-ng-show="features.systemStatusTile != 'enabled' && features.privateSdc != 'enabled'">
                    <h5>SYSTEM STATUS</h5>
                    <div class="separation-container separation-container-top">
                        <div class="row" data-ng-repeat="topic in systemStatusTopics | limitTo:7">
                            <span class="pull-left col-md-12">{{topic.created_at | dateTime}} <a target="_blank" href="https://help.joyent.com/entries/{{topic.id}}">&nbsp;{{topic.title}}</a></span>
                        </div>
                    </div>
                    <a class="orange" href="https://help.joyent.com/forums/20715782-current-system-status#recent" target="_blank">View all System Updates</a>
                </div>
                <div class="span" data-ng-show="features.privateSdc != 'enabled'">
                    <h5>SUPPORT FAQ</h5>
                    <div class="separation-container separation-container-top">
                        <div class="row" data-ng-repeat="(name, url) in forums">
                            <a target="_blank" href="{{url}}">{{name}}</a>
                        </div>
                    </div>
                    <a class="orange" href="http://wiki.joyent.com/wiki/display/jpc2/FAQs" target="_blank">Visit DevCenter</a>
                </div>
                <div class="span" data-ng-show="features.blogEntries == 'enabled'">
                    <h5>JOYENT BLOG</h5>
                    <div class="separation-container separation-container-top">
                        <div class="row" data-ng-repeat="entry in rssentries">
                            <div class="blog-date dpl-inline">{{entry.publishedDate | dateTime}}</div>
                            <a target="_blank" href="{{entry.link}}">&nbsp;<b>{{entry.title}}</b></a>
                        </div>
                    </div>
                    <a class="orange" href="http://www.joyent.com/blog" target="_blank">More News</a>
                </div>
            </div>
        </div>
    </div>
</div>
