<div class="container-fluid dash-container-position" data-ng-controller="Dashboard.IndexController">
    <div class="container-min-width row-fluid">
        <div class="row-fluid">
            <h3 class="page-title">Dashboard</h3>
        </div>

        <div class="pull-left tile-wrapper">
            <div class="tile instance-bg">
                <a data-ng-href="{{'#!/compute'}}">
                    <div class="tile-body">
                        <div class="title">Instances</div>
                        <div class="left-column">
                            <div id="count-instances-running" class="number">
                                {{runningcount}}
                            </div>
                            <div class="info">
                                running
                            </div>
                        </div>
                        <div class="right-column">
                            <div id="count-instances-stopped" class="number">
                                {{othercount}}
                            </div>
                            <div class="info">
                                stopped
                            </div>
                        </div>
                    </div>
                </a>
                <div class="tile-button" id="button-create-instance" data-ng-click="gotoCreatePage()">+ Create Compute Instance</div>
            </div>
        </div>

        <div class="pull-left tile-wrapper" data-ng-show="slbFeatureEnabled">
            <div class="tile elb-bg">
                <a data-ng-href="{{(slbControllerCreated && '#!/slb/list') || '#!/slb/'}}">
                    <div class="tile-body">
                        <div class="title">Load Balancers</div>
                        <div class="single-column">
                            <div class="number">
                                {{balancers.length || 0}}
                            </div>
                            <div class="info">
                                configured
                            </div>
                        </div>
                    </div>
                </a>
                <a class="tile-button" data-ng-href="{{(slbControllerCreated && '#!/slb/edit/') || '#!/slb/'}}">+ Create Load Balancer</a>
            </div>
                <div class="widget-btn">
                    <a class="more" data-ng-href="{{(slbControllerCreated && '#!/slb/edit/') || '#!/slb/'}}"><button type="button" class="btn btn-stat orange align-text-btn"><i class="plus-btn-icon"></i>&nbsp;&nbsp;Create Load Balancer</button></a>
        </div>

        <div class="pull-left tile-wrapper">
            <div class="tile manta-bg">
                <a data-ng-href="{{(account.provisionEnabled && '#!/manta/files') || '#!/manta/intro'}}">
                    <div class="tile-body">
                        <div class="title">Manta Storage</div>
                        <div class="single-column">
                            <div class="number dpl-inline">
                                {{mantaMemory.value || ((account.provisionEnabled && '0') || '')}}
                            </div>
                            <div class="info dpl-inline">
                                {{mantaMemory.measure || ((account.provisionEnabled && 'GB') || '')}}
                            </div>
                        </div>
                    </div>
                </a>
                <a class="tile-button" data-ng-href="{{(account.provisionEnabled && '#!/manta/builder') || '#!/manta/intro'}}">+ Create Job</a>
            </div>
        </div>

        <div class="pull-left tile-wrapper" data-ng-show="usageDataFeatureEnabled">
            <div class="tile usage-bg">
                <a data-ng-href="{{utilization.url}}">
                    <div class="tile-body">
                        <div class="title">Current Usage</div>
                        <div class="left-column small" data-ng-show="utilization">
                            <div class="number medium">
                                ${{currentspend}}
                            </div>
                            <div class="info">
                                spent
                            </div>
                        </div>
                        <div class="right-column small" data-ng-show="utilization">
                            <div class="number medium dpl-inline">
                                {{dram}}
                            </div>
                            <div class="info dpl-inline">
                                DRAM GB&nbsp;hours
                            </div>
                            <div class="number medium">
                                {{bandwidth.value}}
                            </div>
                            <div class="info">
                                {{bandwidth.measure}} bandwidth
                            </div>
                        </div>
                    </div>
                    <span class="tile-button">Explore Usage</span>
                </a>
            </div>
        </div>

        <div class="pull-left tile-wrapper" data-ng-show="features.support == 'enabled'">
            <div class="tile support-bg">
                <div class="tile-body">
                    <div class="title">Support</div>
                    <div class="left-column">
                        <a href="#!/support">
                            <div id="count-instances-running" class="number small">
                                JPC
                            </div>
                            <div class="info">
                                {{supportTile[0] || 'Basic'}}
                            </div>
                        </a>
                    </div>
                    <div class="right-column">
                        <a href="#!/support/cloud">
                            <div id="count-instances-stopped" class="number small">
                                Node.js
                            </div>
                            <div class="info">
                                {{supportTile[1] || 'none'}}
                            </div>
                        </a>
                    </div>
                </div>
                <a class="tile-button" href="#!/support">View Support Upgrades</a>
            </div>
        </div>

        <div class="pull-left tile-wrapper" data-ng-show="features.freetier == 'enabled' && validFreeTier">
            <div class="tile free-tier-bg">
                <div class="tile-body">
                    <div class="title">Free Dev Tier</div>
                    <div class="single-column small">
                        <div class="server tooltip-hover"
                             data-ng-repeat="datacenter in datacenters track by $index"
                             data-toggle="tooltip"
                             data-placement="top"
                             data-html="true"
                             data-original-title="{{datacenter.tooltip}}">
                            <p data-ng-show="datacenter.name"
                               class="pull-left">
                                {{datacenter.name}}
                            </p>
                            <div class="lightbulb" data-ng-class="{'lightbulb-enable': !datacenter.lightbulb && datacenter.name}"></div>
                        </div>
                    </div>
                    <div class="small-text grey">SmartOS, CentOS, Ubuntu, Node.js</div>
                    <div class="small-text grey">Valid until {{validUntil | date:'yyyy-MM-dd'}}</div>
                </div>
                <a class="tile-button grey"  data-ng-show="showAddFreeTier" href="#!/compute/create/simple">+ Create Free Instance</a>
            </div>
        </div>

        <div class="pull-left tile-wrapper" data-ng-show="features.systemStatusTile == 'enabled'">
            <div class="tile status-bg">
                <div class="tile-body">
                    <div class="title">System Status</div>
                    <div class="single-column">
                        <div class="small-text white" data-ng-hide="loadedSystemStatusTopics">
                            Getting system status...
                        </div>
                        <div class="small-text white" data-ng-show="loadedSystemStatusTopics && systemStatusTopics.length == 0">
                            <i class="checked-icon"></i>
                            All systems online.
                        </div>
                        <div class="small-text white" data-ng-repeat="topic in systemStatusTopics">
                            <a target="_blank" href="https://help.joyent.com/entries/{{topic.id}}">{{topic.created_at | dateTime}} &nbsp;{{topic.title}}</a>
                        </div>
                    </div>
                </div>
                <a class="tile-button grey" target="_blank" href="https://help.joyent.com/forums/21769270-Incidents-Notifications">View Older System Updates</a>
            </div>
        </div>

        <div class="pull-left tile-wrapper" data-ng-show="features.devCenterNewsTile == 'enabled'">
            <div class="tile devcenter-bg">
                <div class="tile-body devcenter">
                    <h5>Securely back-up data, file and configurations on Joyent Cloud.</h5>
                    <div class="small-text"><a class="orange" href="http://www.joyent.com/developers/back-up" target="_blank">See how in the DevCenter</a></div>
                </div>
            </div>
        </div>

        <div class="dpl-inline">
            <div class="pull-left first-column">
                <div class="portlet-body manta-ad">
                    <div class="manta-ad-block">
                        <h4>Introducing Joyent Manta</h4>
                        <h4>Storage Service</h4>
                    </div>
                    <div class="manta-ad-block2">
                        <h5>A highly scalable, distributed</h5>
                        <h5>object storage service with</h5>
                        <h5>integrated compute</h5>
                    </div>
                    <div class="manta-ad-block3">
                        <a href="http://vimeo.com/68920633" target="_blank">
                            <h5>Find out how Manta</h5>
                            <h5>gives storage intelligence</h5>
                        </a>
                    </div>
                </div>
            </div>
            <div class="pull-left second-column">
                <div class="span" data-ng-show="features.systemStatusTile != 'enabled'">
                    <h5>SYSTEM STATUS</h5>
                    <div class="separation-container separation-container-top">
                        <div class="row-fluid" data-ng-repeat="topic in systemStatusTopics | limitTo:7">
                            <span class="pull-left span12">{{topic.created_at | dateTime}} <a target="_blank" href="https://help.joyent.com/entries/{{topic.id}}">&nbsp;{{topic.title}}</a></span>
                        </div>
                    </div>
                    <a class="orange" href="https://help.joyent.com/forums/20715782-current-system-status#recent" target="_blank">View all System Updates</a>
                </div>
                <div class="span">
                    <h5>JOYENT BLOG</h5>
                    <div class="separation-container separation-container-top">
                        <div class="row-fluid" data-ng-repeat="entry in rssentries">
                            <span class="pull-left span12">
                                <div class="blog-date dpl-inline">{{entry.publishedDate | dateTime}}</div>
                                <a target="_blank" href="{{entry.link}}">&nbsp;<b>{{entry.title}}</b></a>
                            </span>
                        </div>
                    </div>
                    <a class="orange" href="http://www.joyent.com/blog" target="_blank">More News</a>
                </div>
                <div class="span">
                    <h5>SUPPORT FAQ</h5>
                    <div class="separation-container separation-container-top">
                        <div class="row-fluid" data-ng-repeat="(name, url) in forums">
                            <span class="pull-left span12"><a target="_blank" href="{{url}}">{{name}}</a></span>
                        </div>
                    </div>
                    <a class="orange" href="http://wiki.joyent.com/wiki/display/jpc2/FAQs" target="_blank">Visit DevCenter</a>
                </div>
            </div>
        </div>
    </div>
</div>
