<div data-ng-controller="Machine.IndexController">
    <div class="loading-large" data-ng-show="loading"></div>
        <div class="machines container" data-ng-show="machines.length || query">
            <data-breadcrumb></data-breadcrumb>
            <data-notification></data-notification>

            <div class="page-header">
                <h1 class="pull-left" data-translate>Instances</h1>
                <div data-ng-show="!machines.final && !packages.final" class="loading-medium-after-h1"></div>

                <form class="form-search pull-right">
                    <input type="search"
                           class="span3"
                           name="search"
                           id="search"
                           placeholder="Search instances"
                           data-ng-model="query"
                           data-translate="placeholder" />
                </form>

                <div class="clearfix"></div>
            </div>

            <div class="row">
				<div class="span9">
	                <div data-grid-view
                         data-props="gridProps"
                         data-detail-props="gridDetailProps"
                         data-action-buttons="gridActionButtons"
                         data-objects="machines"
                         data-per-page="15"
                         data-order="gridOrder"
                         data-filter-all="{{query}}"
                         data-export-fields="exportFields"
                         data-objects-type="machine"></div>
				</div>
				
	            <div class="pull-right span3">
	                <button data-ng-click="changeLocation('/instance/create/')"
	                        class="create-instance btn btn-joyent-blue btn-large"
	                        data-translate>Create Instance</button>
		                <div class="alert alert-joyent-blue">
		                    <h4 data-translate>Need help?</h4>
		                    <p class="text-medium" data-translate>Help will open in new window</p>
		                    <form class="form-search" method="GET" action="http://www.joyent.com/developers/search" target="_blank">
		                        <div class="input-append">
		                            <input type="text" name="q" class="input-small search-query" placeholder="Search help" data-translate="placeholder">
		                            <button type="submit" class="btn" data-translate>Search</button>
		                        </div>
		                    </form>
		                </div>
                    <button data-ng-show="features.imageUse != 'disabled'" data-ng-click="changeLocation('/images')"
                            class="list-my-images btn btn-joyent-blue btn-large"
                            data-translate>List My Images</button>
	            </div>
            </div>
        </div>
        <div class="machines container" data-ng-hide="(machines.length || loading || query)">
            <data-notification></data-notification>
            <div class="alert alert-joyent-blue alert-global">
                <div class="pull-left">
                    <h4>Hello there!</h4>
                    <div data-translate>I see you have no instances configured.</div>
                </div>
                <a class="btn btn-joyent-blue pull-right alert-global" href="#!/instance/create" data-translate>Create an instance</a>
                <div class="clearfix"></div>
            </div>
        </div>
</div>

