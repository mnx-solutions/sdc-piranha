<div class="container-fluid container-position" data-ng-controller="Machine.ProvisionController">
    <div class="loading-large span12" data-ng-show="loading"></div>
    <div class="" data-ng-hide="loading">
        <div class="container-min-width" data-ng-show="keys.length">
        <div data-ng-show="basicCreateInstance">
            <h3 class="page-title no-breadcrumb-line container-min-width" data-translate>Quick Start: Create Instance</h3>
            <div class="ci_desc">Get started with Joyent by selecting an instance below and start computing.</div>
            <div style="padding-bottom: 30px;">
                <span>Data Center:</span>
                <div class="provisioning-header-left-button btn-group">
                    <button class="btn datacenter-select" data-ng-show="data.datacenter">{{data.datacenter}}</button>
                    <button class="btn dropdown-toggle datacenter-select" data-toggle="dropdown">
                        <span class="caret"></span>
                    </button>
                    <ul class="dropdown-menu dd-datacenter">
                        <li data-ng-repeat="datacenter in datacenters">
                            <a data-ng-click="selectDatacenter(datacenter.name)">{{datacenter.name}}</a>
                        </li>
                    </ul>
            </div>
                <div class="hotlinks pull-right">
                    <a href="" data-ng-click="basicCreateInstance = false">View More Images </a>
                    <span data-ng-show="features.imageUse != 'disabled'">
                        | <a data-ng-click="basicCreateInstance = false; selectVisibility(false);" href=""> Saved Images</a>
                                    </span>
                            </div>
            </div>

            <div class="row-fluid basic-instance-box-padding">
                <div class="basic-instance-box" ng-repeat="image in simpleImages | filter: {imageData.datacenter: data.datacenter}" ng-class="image.className">
                    <div class="basic-instance-title">
                        <p>{{image.name}}</p>
                                </div>
                    <div class="basic-instance-description">
                        <p>{{image.description.text}}</p>
                                </div>
                    <div class="basic-instance-info">
                        <p>MEMORY</p><span><p>{{ image.description.memory }} GB</p></span>
                                </div>
                    <div class="basic-instance-info">
                        <p>vCPUs</p><span><p>{{ image.description.cpu }}</p></span>
                    </div>
                    <div class="basic-instance-info">
                        <p>Disk</p><span><p>{{ image.description.disk }} GB</p></span>
                    </div>
                    <div class="basic-instance-line"></div>
                    <div class="basic-instance-btn-block">
                        <span class="basic-instance-price">${{ image.description.price }}</span>
                        <span class="basic-instance-price-per-time">per hour</span>
                        <button
                                type="button"
                                class="btn basic-instance-btn btn_s"
                                ng-click="createSimple(image.imageData)"><b>Select</b></button>
                            </div>
                        </div>

                <div class="basic-instance-box joyent-logo">
                    <div class="basic-instance-browse">
                        <p>Browse our<br>complete image<br>library</p>
                        <span><p>Instances suitable for specific<br>applications, database, traffic<br>management and more.</p></span>
                    </div>

                    <div class="basic-instance-line"></div>
                    <div class="basic-instance-btn-block">
                        <button type="button" class="btn orange btn_browse" data-ng-click="basicCreateInstance = false">View More Images</button>
                        </div>
                        </div>
                </div>
                </div>
            <div data-ng-show="!basicCreateInstance">
                <h3 class="page-title no-breadcrumb-line container-min-width" data-translate>Create Instance</h3>
                <div class="wizard-steps">
                    <div class="firststep active-step">
                        <p ng-show="currentSlidePageIndex >= 1"><a href="#myCarousel" class="breadcrumb current-step" data-ng-click="reconfigure(0)" data-slide-to="0">Choose Image</a></p>
                        <p ng-hide="currentSlidePageIndex >= 1">Choose Image</p>
                    </div>
                    <div>
                        <p ng-show="currentSlidePageIndex >= 2"><a data-ng-click="reconfigure(1)" class="breadcrumb current-step" href="#myCarousel" data-slide-to="1">Select Package</a></p>
                        <p ng-hide="currentSlidePageIndex >= 2">Select Package</p>
                </div>
                    <div><p class="current-step">Review</p></div>
                    <div><p class="laststep"></p></div>
            </div>
            <div class="row-fluid carousel-container">
                <div class="span8 provisioning-carousel-span">
                    <div id="provisionCarousel" class="carousel slide">
                        <div class="carousel-inner provisioning-carousel-inner-box advanced-table" data-ng-class="{'loading-medium':reloading}">
                            <div class="active item outer-provisioning-item">

                                <div class="row-fluid advanced-ci-step1">
                                    <div class="" style="display: inline-block;">
                                        <input type="text" class="search-images" placeholder="Search image" data-ng-model="searchText" data-translate="placeholder" />
                                        <input value="" class="btn-search-images" type="submit">
                                    </div>


                                    <div class="btn-group">
                                        <span class="btn-control-pos">
                                            Data Center:
                                        </span>
                                        <button class="btn datacenter-select dd-fixed-width" data-ng-show="data.datacenter">{{data.datacenter}}</button>
                                        <button class="btn dropdown-toggle datacenter-select" data-toggle="dropdown">
                                            <span class="caret"></span>
                                        </button>
                                        <ul class="dropdown-menu dd-datacenter" style="margin-left: 87px !important;">
                                            <li data-ng-repeat="datacenter in datacenters">
                                                <a data-ng-click="selectDatacenter(datacenter.name)">{{datacenter.name}}</a>
                                            </li>
                                        </ul>
                                    </div>

                                    <div class="btn-group hidden-phone"
                                         data-html="true"

                                         data-original-title="Filter by operating system"
                                         style="padding-left: 20px;">
                                        <span class="btn-control-pos">
                                            OS:
                                        </span>
                                        <button class="btn datacenter-select dd-fixed-width" data-ng-show="data.opsys">{{data.opsys}}</button>
                                        <button class="btn dropdown-toggle datacenter-select" data-toggle="dropdown">
                                            <span class="caret"></span>
                                        </button>
                                        <ul class="dropdown-menu dd-datacenter" style="margin-left: 50px !important;">
                                            <li data-ng-repeat="opsys in operating_systems">
                                                <a data-ng-click="selectOpsys(opsys) | orderBy:'toString()'">{{opsys}}</a>
                                            </li>
                                        </ul>
                                    </div>

                                    <div data-ng-show="features.imageUse != 'disabled'" class="hotlinks pull-right link">
                                        <a href="" data-ng-show="visibilityFilter != 'Public'" data-ng-click="selectVisibility(true);">Public Images</a>
                                        <a href="" data-ng-show="visibilityFilter != 'Saved'" data-ng-click="selectVisibility(false);">Saved Images</a>
                                    </div>
                                    </div>



                                <div class="advanced-table tooltip-hover">
                                    <div data-ng-show="(datasets | filter:filterDatasetsByVisibility).length == 0 && !reloading" class="font-size16">
                                        No private images in this data center.
                                    </div>
                                    <div class="" data-ng-hide="reloading" data-ng-repeat="dataset in (datasets | orderBy:['type','name']) | filter:filterDatasets | filter:filterDatasetsByOS | filter:filterDatasetsByVisibility">
                                        <div  class="advanced-instance-box small-icon"
                                              data-ng-class="selectedVersions[dataset.name].name || dataset.name | logo"
                                              data-toggle="tooltip" data-tooltip-text="{{selectedVersions[dataset.name].description || dataset.description}}">
                                                <div class="advanced-instance-title">
                                                    <p>{{selectedVersions[dataset.name].name || dataset.name}}</p>
                                </div>
                                                <div class="advanced-instance-description">
                                                    <p>{{selectedVersions[dataset.name].description || dataset.description}}</p>
                                                </div>

                                                <div class="advanced-instance-btn-block">
                                                    <button type="button"
                                                       id="dataset-{{dataset.id}}"
                                                       name="dataset"
                                                       value="{{selectedVersions[dataset.name].id || dataset.id}}"
                                                       data-ng-checked="selectedDataset.id == dataset.id"
                                                            data-ng-click="selectDataset((selectedVersions[dataset.name].id || dataset.id))"
                                                            class="btn advaced-instance-btn pull-right"><b>Select</b>
                                                    </button>
                                            </div>


                                        </div>



                                            </div>
                                </div>
                                            </div>


                            <div class="item outer-provisioning-item">
                                <div class="item provisioning-item header row-fluid">
                                    <div class="span3 pull-right selected-package-container">
                                        <div data-ng-show="selectedPackageInfo" class="selected-package-box">
                                            <div class="selected-package-box-content">
                                                <p>IMAGE:</p><a class="btn small-btn"  data-ng-click="reconfigure(0)" href="#myCarousel" id="prev" data-slide="prev">Change</a>
                                                <span><h2>{{selectedDataset.name}}</h2></span>
                                                <div class="dataset-desc">{{selectedDataset.description}}</div>

                                                <p data-ng-show="manyVersions[selectedDataset.name]">INSTANCE VERSION:</p>
                                                <div class="text-small image-container" data-ng-show="manyVersions[selectedDataset.name]">
                                                        <div class="btn-group pull-left">
                                                        <button class="btn datacenter-select dd-fixed-width" data-ng-show="selectedVersions[selectedDataset.name]">
                                                            {{selectedVersions[selectedDataset.name].version}}
                                                            </button>

                                                        <button class="btn datacenter-select dropdown-toggle" data-toggle="dropdown">
                                                                <span class="caret"></span>
                                                            </button>

                                                        <ul class="dropdown-menu dd-image-versions">
                                                            <li data-ng-repeat="version in versions[selectedDataset.name]">
                                                                <a data-ng-click="selectVersion(selectedDataset.name, version)">
                                                                        {{version.version}}
                                                                    </a>
                                                                </li>
                                                            </ul>
                                                        </div>
                                                    </div>
                                                <div class="dataset-coast">
                                                    <p>EST. MONTHLY COST:</p>
                                                    <h3>${{selectedPackageInfo.full_price_month || selectedPackageInfo.price_month}}</h3>
                                                </div>
                                                <div class="pull-left">
                                                    <button type="button" class="btn orange review-btn" data-ng-click="reviewPage()">Review</button>
                                                </div>

                                            </div>
                                            </div>
                                    </div>
                                    <div class="">
                                        <div class="accordion-package-title">
                                            <span class="span-name">NAME</span>
                                            <span class="span-specification">SPECIFICATION</span>
                                            <span class="span-price">PRICE</span>
                                        </div>
                                        <div class="accordion accordion-package-select" id="accordion2">
                                            <div class="accordion-group" data-ng-repeat="package in packageTypes">
                                                <div class="accordion-heading">
                                                    <a class="accordion-toggle" data-ng-class="{active: accordionIcon2[$index]}" data-ng-click="collapseTrigger2($index, packageTypes.length)" data-toggle="collapse" data-parent="#accordion2"
                                                       href="#collapse_{{$index}}">
                                                        <i class=""></i>
                                                        {{package}}
                                                    </a>
                                            </div>
                                                <div id="collapse_{{$index}}" class="accordion-body collapse" data-ng-class="{in:$index == packageTypes.length-1}">
                                                    <div class="accordion-inner">
                                                        <div class="package-info" data-ng-repeat="package in (packages | orderBy:sortPackages) | filter:filterPackages | filter:package"
                                                             data-ng-click="selectPackage(package.id)"
                                                             data-ng-checked="selectedPackage == package.id"
                                                             data-ng-class="{active: selectedPackage == package.id}">
                                                            <div class="short-name">{{package.short_name}}</div>
                                                            <div class="memory"><p data-ng-show="package.memory < 1024">Micro </p> {{package.memory | sizeFormat}} RAM</div>
                                                            <div class="cpu">{{package.vcpus}} vCPUs</div>
                                                            <div class="disk">{{package.disk | sizeFormat}} Disk</div>
                                                            <div class="price">${{package.full_price || package.price}} <p data-translate>per hour</p></div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                    </div>
                                </div>
                            </div>
                            </div>
                            <div class="item outer-provisioning-item">
                            <div class="item-scrolling">
                                <div class="review-box">
                                    <table>
                                        <td style="vertical-align: top;">
                                            <div class="selected-package-box-1">
                                                <p>IMAGE:</p><a class="btn small-btn"  data-ng-click="reconfigure(0)" href="#myCarousel" id="" data-slide-to="0">Change</a>
                                                <span><h2>{{selectedDataset.name}}</h2></span>
                                                <div class="dataset-desc">{{selectedDataset.description}}</div>

                                                <p data-ng-show="manyVersions[selectedDataset.name]">INSTANCE VERSION:</p>
                                                <div class="text-small image-container" data-ng-show="manyVersions[selectedDataset.name]">
                                                    <div class="btn-group pull-left">
                                                        <button class="btn datacenter-select dd-fixed-width" data-ng-show="selectedVersions[selectedDataset.name]">
                                                            {{selectedVersions[selectedDataset.name].version}}
                                                        </button>

                                                        <button class="btn datacenter-select dropdown-toggle" data-toggle="dropdown">
                                            <span class="caret"></span>
                                        </button>

                                                        <ul class="dropdown-menu dd-image-versions">
                                                            <li data-ng-repeat="version in versions[selectedDataset.name]">
                                                                <a data-ng-click="selectVersion(selectedDataset.name, version)">
                                                                    {{version.version}}
                                                                </a>
                                            </li>
                                        </ul>
                                    </div>
                                                </div>
                                            </div>
                                        </td>
                                        <td style="vertical-align: top;">
                                            <div class="selected-package-box-2">
                                                <p>PACKAGE:</p><a class="btn small-btn"  data-ng-click="reconfigure(1)" href="#myCarousel" id="prev" data-slide="prev">Change</a>
                                                <span>
                                                    <div class="package-info-title">Configuration</div>
                                                    <div class="package-info-desc">{{selectedPackageInfo.short_name}}</div>
                                                </span>
                                                <span>
                                                    <div class="package-info-title">Memory</div>
                                                    <div class="package-info-desc">{{selectedPackageInfo.memory | sizeFormat}}</div>
                                                </span>
                                                <span>
                                                    <div class="package-info-title">Disk</div>
                                                    <div class="package-info-desc">{{selectedPackageInfo.disk | sizeFormat}}</div>
                                                </span>
                                                <span>
                                                    <div class="package-info-title">vCPUs</div>
                                                    <div class="package-info-desc">{{selectedPackageInfo.vcpus}} vCPUs</div>
                                                </span>
                                                <span>
                                                    <div class="package-info-title">DataCenter</div>
                                                    <div class="package-info-desc">{{data.datacenter}} </div>
                                                </span>

                                                <div class="package-info-cost">
                                                    <p>COST:</p>
                                                    <div class="dataset-cost">
                                                        <h3>${{selectedPackageInfo.full_price || selectedPackageInfo.price}}</h3>
                                                        <p class="small-text-info">per hour</p>
                                                    </div>
                                                    <div class="dataset-cost">
                                                        <h3>${{selectedPackageInfo.full_price_month || selectedPackageInfo.price_month}}</h3>
                                                        <p class="small-text-info">est. monthly</p>
                                    </div>
                                </div>
                                </div>
                                        </td>
                                        <td style="vertical-align: top;">
                                            <form name="provisionForm" id="provision-form">
                                                <div class="selected-package-box-3">
                                                    <p class="title-box-3">OPTIONAL SETTINGS:</p>
                                                    <span><h2>Name Instance</h2><p> (Optional)</p></span>
                                                    <input name="machineName"
                                                           type="text"
                                                           data-ng-model="data.name"
                                                           data-machine-name
                                                           data-machine-unique
                                                           class="instance-name-input"/>
                                                <div class="error alert-icon"
                                                    data-ng-show="provisionForm.machineName.$error.machineName"
                                                    data-translate>
                                                    Invalid machine name
                                            </div>

                                                <div class="error alert-icon"
                                                     data-ng-show="provisionForm.machineName.$error.machineUnique"
                                                     data-translate>
                                                    Machine name is already in use
                                                </div>
                                                    <div><h2>Networks</h2></div>
                                                    <div class="networks-box-3">
                                                        <label data-ng-repeat="network in networks">
                                                            <div class="checker" data-ng-class="{hover:show}" data-ng-mouseenter="show = true" data-ng-mouseleave="show = false">
                                                                <span data-ng-class="{checked: network.active}">
                                                                     <input data-ng-click="selectNetworkCheckbox(network.id)" type="checkbox"
                                                                            value="{{network.id}}"
                                                                            name="{{network.name}}"
                                                                            data-ng-model="selectedNetworkId"
                                                                            data-ng-disabled="selectedNetworks.length == 2 && selectedNetworks.indexOf(network.id) == -1"/>
                                                </span>
                                                             </div>
                                                            <span data-ng-class="{disabledNetworkSelection: (selectedNetworks.length == 2 && selectedNetworks.indexOf(network.id) == -1)}">{{network.name}}</span><br />
                                            </label>
                                        </div>
                                                    <div><h2>Tags</h2></div>
                                                    <p class="tags-text-p">Tags are metadata stored as key-value pairs to make it easier for you to find, sort, and identify your instances.</p>
                                                    <div class="create-tags ci-tags" data-tags tags="tags" review="true"></div>

                                                    <button class="btn orange create-instance-btn-pos"
                                                            data-ng-disabled="provisionForm.$invalid"
                                                            data-ng-click="clickProvision()"
                                                            data-translate>Create instance</button>
                                                </div>
                                            </form>
                                        </td>
                                    </table>
                                    </div>
                                </div>

                            </div>
                        </div>
                        <a href="#myCarousel" class="btn grey" data-ng-click="simpleCreateInstance()" data-slide-to="0"><b>Back to Quick Start</b></a>

                    </div>
                </div>

            </div>
            </div>
        </div>

        <div data-ng-show="keys.length == 0" class="container-min-width">
                <h4>Hello there!</h4>
                <div data-translate>I see you have no SSH keys configured.</div>
            <div class="pull-left" style="margin-top: 20px">
                <a href="#!/account/ssh" class="btn orange align-text-btn">Add a SSH key</a>
            </div>
        </div>
    </div>
</div>