<div class="modal-dialog modal-dialog-push-image">
    <div class="modal-content">
        <div tabindex="-1" data-backdrop="static" data-focus-on="button">
            <div class="modal-header message">
                <h5><i class="glyphicon glyphicon-info-sign"></i><b>Push image {{ imageName }}</b></h5>
            </div>
            <div class="modal-body loading-medium full-width" data-ng-show="loading"></div>
            <div class="modal-body registry-form" data-ng-hide="loading || registries && !registries.length">
                <form name="newRegistryForm" class="configurationForm">
                    <div class="form-group">
                        <span class="edit-label">Registry</span>
                        <span class="edit-value">
                                    <select id="registrySelect"
                                            data-ng-model="input.registryId"
                                            ui-select2="{width: '103%'}"
                                            data-ng-disabled="image.progress"
                                            required>
                                        <option data-ng-repeat="registry in registries" value="{{registry.id}}">{{registry.userHost}}</option>
                                    </select>
                        </span>
                    </div>
                    <div class="form-group">
                        <div>
                            <span class="edit-label">Name</span>
                            <span class="edit-value">
                                    <input type="text"
                                           name="name"
                                           data-ng-model="input.name"
                                           data-ng-change="validateName()"
                                           data-ng-disabled="image.progress"
                                           required/>
                            </span>
                        </div>
                        <div class="edit-error error-push-image" data-ng-show="newRegistryForm.name.$dirty">
                            <div class="error"
                                 data-translate
                                 data-ng-show="errorMessage">
                                {{errorMessage}}
                            </div>
                        </div>
                    </div>
                </form>
                <div data-ng-show="image.progress" class="push-image-log">
                    <p data-ng-repeat="status in image.progress track by $index" emit-last-repeater-element>{{status}}</p>
                </div>
                <span data-ng-show="image.progress" class="push-image-log-legend">Scroll down to autoscroll</span>
            </div>
            <div class="modal-body" data-ng-hide="loading || registries && registries.length">
                No registries found suitable for pushing images.
            </div>
            <div class="modal-footer">
                <button data-ng-if="image.progress" data-ng-click="close()" data-button-focus="true" data-label="Close" class="btn orange">Close</button>
                <button data-ng-hide="image.progress" data-ng-click="close()" data-button-focus="false" data-label="Cancel" class="btn grey">Cancel</button>
                <button data-ng-hide="image.progress" data-ng-click="push()" data-button-focus="true" data-label="Push" class="btn orange" data-ng-disabled="loading || !input.name || errorMessage || registries && !registries.length">Push</button>
            </div>
        </div>
    </div>
</div>
