<div data-ng-controller="Docker.IndexController" class="container-fluid container-position">
    <div class="row">
        <h3 class="page-title">Docker Dashboard</h3>
        <div class="page-title-btn">
            <div class="control-panel">
                <span>Data Center:</span>
                <div class="provisioning-header-left-button btn-group">
                    <select type="hidden" data-select-two id="selectDockerDatacenter" data-ng-model="data.datacenter" data-select="data.datacenter" placeholder="No matches found">
                        <option value=""></option>
                        <option data-ng-repeat="datacenter in datacenters | orderBy:$index" value="{{datacenter.name}}">
                            {{datacenter.name}}
                        </option>
                    </select>
                </div>
            </div>
            <button data-ng-disabled="!data.imageId" data-ng-click="createDocker()" type="button" class="btn btn-big orange text-to-left"><i class="plus-btn-icon"></i>Create Docker Host</button>
        </div>
    </div>
    <div class="beta-sticker">beta</div>
    <div class="loading-large" data-ng-show="loading"></div>
    <div class="row dockers-wrapper" data-ng-show="dockerMachines.length >= 1 && !loading">
        <div class="docker-wrapper" data-ng-repeat="machine in dockerMachines" data-ng-click="navigateMachine(machine)">
            <div class="name">
                <p data-tooltip-full-text data-original-title="{{machine.name}}">{{machine.name}}</p>
            </div>
            <div class="info">
                <span>DC: </span>
                <span>{{machine.datacenter}}</span>
            </div>
            <div class="info">
                <span>IP: </span>
                <span>{{machine.primaryIp}}</span>
            </div>
            <div class="info" data-ng-hide="states[machine.id] == 'completed'">
                <span>Status: </span>
                <span>{{states[machine.id] || 'initializing'}}</span>
                <div class="loading-medium-tr" data-ng-hide="states[machine.id] == 'unreachable'"></div>
            </div>
            <div data-ng-show="states[machine.id] == 'completed'">
                <div class="info">
                    <span><a href="" data-ng-click="navigateContainersImages('containers', machine.id)">Containers</a>: </span>
                    <span>{{machine.containersCount}}</span>
                </div>
                <div class="info">
                    <span class="info-images-label pull-left"><a href="" data-ng-click="navigateContainersImages('images', machine.id)">Images</a>: </span>
                    <span class="loading-small loading-images-count pull-left" data-ng-hide="machine.imagesCount || machine.imagesCount == 0"></span>
                    <span class="pull-left">{{machine.imagesCount}}</span>
                </div>
                <div class="progress-wrapper" data-ng-show="machine.cadvisorUnavailable">
                    <p class="cadvisor-unavailable">cAdvisor is unavailable</p>
                </div>
                <div class="progress-wrapper" data-ng-hide="machine.cadvisorUnavailable || machine.isSdc">
                    <p class="title">CPU</p>
                    <div class="progress" title="{{machine.cpuLoad}}">
                        <div class="progress-bar" ng-style="{width: machine.cpuLoad}"></div>
                    </div>
                    <p class="title">Memory</p>
                    <div class="progress" title="{{machine.memoryLoad}}">
                        <div class="progress-bar" ng-style="{width: machine.memoryLoad}"></div>
                    </div>
                </div>
                <div data-ng-show="machine.isSdc" class="progress-wrapper">
                    <button data-ng-click="createContainer()" type="button" class="btn btn-big orange text-to-left"><i class="plus-btn-icon"></i>Start new container</button>
                </div>
                <div data-ng-hide="machine.isSdc" class="os-based ubuntu-logo">
                    <p class="title">Ubuntu</p>
                </div>
            </div>
        </div>
    </div>
    <div data-ng-show="dockerMachines.length < 1 && !loading">
        <p class="docker-title">Welcome to Docker<span data-ng-hide="features.privateSdc == 'enabled'"> on the Joyent Public Cloud</span></p>
        <div data-ng-hide="provisionEnabled">
            <span class="docker-subtitle active-link" data-ng-click="completeAccount()">Complete your Account Information</span><span class="docker-subtitle"> in order to begin using Docker on the Joyent Public Cloud</span>
        </div>
        <div data-ng-show="provisionEnabled && data.imageId">
            <span class="docker-subtitle active-link" data-ng-click="createDocker()">Create Docker Host</span><span class="docker-subtitle" data-ng-hide="features.privateSdc == 'enabled'"> and begin using Docker on the Joyent Public Cloud</span>
        </div>
        <table class="docker-info">
            <tr>
                <td class="docker-icon-01"></td>
                <td>
                    <p class="list-title">Manage Docker Hosts</p>
                    <p class="list-description">Docker Hosts are based on certified Ubuntu images from Canonical</p>
                </td>
            </tr>
            <tr>
                <td class="docker-icon-02"></td>
                <td>
                    <p class="list-title">Manage Docker Images</p>
                    <p class="list-description">Full integration with Docker Hub, local and third party registries</p>
                </td>
            </tr>
            <tr>
                <td class="docker-icon-03"></td>
                <td>
                    <p class="list-title">Manage Docker Containers</p>
                    <p class="list-description">Manage the Docker container’s lifecycle</p>
                </td>
            </tr>
            <tr>
                <td class="docker-icon-04"></td>
                <td>
                    <p class="list-title">Integrated Log Management</p>
                    <p class="list-description">All container logs are persisted in <a class="active-link" href="https://www.joyent.com/products/manta" target="_blank">Manta</a> object store</p>
                </td>
            </tr>
            <tr>
                <td class="docker-icon-05"></td>
                <td>
                    <p class="list-title">Container level resource monitoring</p>
                    <p class="list-description">View resource utilization of each of your containers</p>
                </td>
            </tr>
            <tr>
                <td class="docker-icon-06"></td>
                <td>
                    <p class="list-title">Highly secure</p>
                    <p class="list-description">All communication between the Docker Hosts and the portal is encrypted</p>
                    <p class="list-description">and authenticated using private X.509 certificates </p>
                </td>
            </tr>
        </table>

    </div>

    <a href="#!/compute/dockerHost" class="orange-link" data-ng-show="dockerMachines.length && !loading">Docker compute instances</a>

    <div data-ng-hide="loading" mantadisclaimer class="manta-disclaimer manta-disclaimer-dashboard"></div>
</div>

