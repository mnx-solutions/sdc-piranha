doctype 5
html(lang='en',data-ng-app='JoyentPortal',data-ng-controller='MainController')
  head
    meta(charset='utf-8')
    meta(name='fragment',content='!')
    title(data-ng-bind='windowTitle') Signup

    each link in css
        link(rel='stylesheet',href='#{link._url}',type='text/css')

    each template in templates
      script(type='text/ng-template',id='#{template.id}')!= template.data

  body(class='auth-interceptor')
    div(data-main-menu, class="navbar")

    div(data-ng-switch='subview')
        each layout in layouts
            div(data-ng-switch-when='#{layout.module}',class='JoyentPortal-module-#{layout.module}',data-ng-controller='#{layout.module}.LayoutController')!= layout.data

    each link in js
      script(type='text/javascript',src='#{link._url}')